!function(e,t){"use strict";var o=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var o=function(e,t,n){return 1===arguments.length?o.get(e):o.set(e,t,n)};return o._document=e.document,o._cacheKeyPrefix="cookey.",o._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),o.defaults={path:"/",secure:!1},o.get=function(e){o._cachedDocumentCookie!==o._document.cookie&&o._renewCache();var n=o._cache[o._cacheKeyPrefix+e];return n===t?t:decodeURIComponent(n)},o.set=function(e,n,a){return a=o._getExtendedOptions(a),a.expires=o._getExpiresDate(n===t?-1:a.expires),o._document.cookie=o._generateCookieString(e,n,a),o},o.expire=function(e,n){return o.set(e,t,n)},o._getExtendedOptions=function(e){return{path:e&&e.path||o.defaults.path,domain:e&&e.domain||o.defaults.domain,expires:e&&e.expires||o.defaults.expires,secure:e&&e.secure!==t?e.secure:o.defaults.secure}},o._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},o._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?o._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!o._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},o._generateCookieString=function(e,t,o){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),o=o||{};var n=e+"="+t;return n+=o.path?";path="+o.path:"",n+=o.domain?";domain="+o.domain:"",n+=o.expires?";expires="+o.expires.toUTCString():"",n+=o.secure?";secure":""},o._getCacheFromString=function(e){for(var n={},a=e?e.split("; "):[],i=0;i<a.length;i++){var s=o._getKeyValuePairFromCookieString(a[i]);n[o._cacheKeyPrefix+s.key]===t&&(n[o._cacheKeyPrefix+s.key]=s.value)}return n},o._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=0>t?e.length:t;var o=e.substr(0,t),n;try{n=decodeURIComponent(o)}catch(a){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+o+'"',a)}return{key:n,value:e.substr(t+1)}},o._renewCache=function(){o._cache=o._getCacheFromString(o._document.cookie),o._cachedDocumentCookie=o._document.cookie},o._areEnabled=function(){var e="cookies.js",t="1"===o.set(e,1).get(e);return o.expire(e),t},o.enabled=o._areEnabled(),o},n="object"==typeof e.document?o(e):o;"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=n),exports.Cookies=n):e.Cookies=n}("undefined"==typeof window?this:window),function($,e,t){"use strict";$(document).ready(function(){function t(e){e.length<2&&(e="..."),_.removeClass("closed"),_.find("input").val(e)}function o(){_.addClass("closed")}function n(e,o){var n=$(".fb_iframe_widget");n.height(n.outerHeight()),p.addClass("step-1-finished"),0==A?l(!0):(t(y),d(f.find(".like-box").data("enter-email"),4e3),f.find(".like-btn").addClass("loaded")),D=!0,Cookies.set("l2d_page_is_liked",1,{expire:604800})}function a(e,t){var n=$(".fb_iframe_widget");n.height(n.outerHeight()),p.removeClass("step-1-finished"),o(),D=!1,Cookies.set("l2d_page_is_liked",0,{expire:0})}function i(e){p.addClass("message-send"),n()}function s(){var e={action:"laborator_l2d_request_new_coupon_code"};$.post(ajax_url,e,function(e){y=e;var t=_.find("input");"..."==t.val()&&t.val(y)},"json")}function u(t,o){g.html(t),g.slideDown("normal"),o&&(e.clearTimeout(h),h=setTimeout(function(){r()},o))}function r(){g.slideUp("fast",function(){g.html("")})}function d(t,o){C.html(t),C.slideDown("normal"),o&&(e.clearTimeout(),b=setTimeout(function(){c()},o))}function c(){C.slideUp("fast",function(){C.html("")})}function l(e){if(x.data("done"))return!1;if(!e&&!D&&!E)return u(f.find(".like-box").data("likemsg"),3e3),!1;var o=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if(!e&&!o.test(x.val()))return u(x.data("invalid"),3e3),!1;E&&t(y);var n={action:"laborator_l2d_submit_coupon_email",email:x.val(),requestedCoupon:y};e?f.find(".like-btn").addClass("is-loading"):x.parent().addClass("is-loading"),$.post(ajax_url,n,function(o){e?(f.find(".like-btn").removeClass("is-loading"),e&&f.find(".like-btn").addClass("loaded")):x.parent().removeClass("is-loading"),o.success?(x.attr("readonly",!0).data("done",!0),e?(t(y),d(f.find(".like-box").data("coupon-confirmed"))):o.message&&d(o.message)):(x.attr("readonly",!1),o.errmsg&&u(o.errmsg,1e4))},"json")}var F=$(".l2d-overlay"),f=$(".l2d-body"),m=F.add(f),p=f.find(".like-and-email"),_=f.find(".cc-wrapper"),x=f.find(".email-box input"),g=f.find(".errors-container"),C=f.find(".successmsg-container"),h=0,b=0,D=!1,v=f.data("enter"),k=f.data("exit"),y="",w=!1,E=!1,j=!1,A=f.data("require-confirmation"),T=function(){m.addClass("visible"),f.addClass("animated "+v),"absolute"==f.css("position")&&f.css({top:$(e).scrollTop()+100}),(!y||E)&&s(),w=!0},z=function(){f.removeClass(v).addClass(k),F.addClass("animated fadeOut"),setTimeout(function(){F.attr("class","l2d-overlay"),f.attr("class","l2d-body")},500),w=!1},S=function(){1!=Cookies.get("l2d_modal_is_shown")&&(Cookies.set("l2d_modal_is_shown",1),T())},U=function(){1!=Cookies.get("l2d_modal_addtocart_is_shown")&&(Cookies.set("l2d_modal_addtocart_is_shown",1),T())};e.l2dShow=T,e.l2dHide=z,e.showModalAfterAddingToCart=U,p.hasClass("l2d-display-share")&&(E=!0),p.hasClass("l2d-display-send")&&(j=!0),f.find(".cc-wrapper input").on("click",function(e){$(this).select()}),F.on("click",z),f.on("click",".close",function(e){e.preventDefault(),z()});var I=!1;if(e.fbAsyncInit=function(){I||(FB.Event.subscribe("edge.create",n),FB.Event.subscribe("edge.remove",a),j&&FB.Event.subscribe("message.send",i),I=!0)},$(e).load(function(){0==I&&(FB.Event.subscribe("edge.create",n),FB.Event.subscribe("edge.remove",a),j&&FB.Event.subscribe("message.send",i),I=!0)}),x.on("keydown",function(e){13==e.keyCode&&l()}),$(".email-box .email-submit").on("click",function(e){e.preventDefault(),l()}),$(e).on("keyup",function(e){w&&27==e.keyCode&&z()}),f.hasClass("is-success")&&(y="null",T(),Cookies.set("l2d_coupon_gained",1)),$("body").hasClass("l2d-modal")){var B=$("body").attr("class").match(/l2d-show-delay-([0-9]+)/);B&&(B=parseInt(B[1],10),setTimeout(S,1e3*B))}$("body").hasClass("l2d-after-add-to-cart")&&"undefined"!=typeof wc_add_to_cart_params&&$(document).on("added_to_cart",function(e,t){setTimeout(U,1e3)}),$("body").on("click",".l2d-show-modal",function(e){e.preventDefault(),T()});var K=$(".l2d-side-banner");if(K.length){var P=K.find("img").attr("src"),O=new Image;O.src=P,O.onload=function(){K.css({marginTop:-this.height/2,display:"block"})}}})}(jQuery,window);